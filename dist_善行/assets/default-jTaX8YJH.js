var z=Object.defineProperty;var P=(s,e,n)=>e in s?z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var h=(s,e,n)=>(P(s,typeof e!="symbol"?e+"":e,n),n);import{o as l,g as d,t as O,r as x,w as B,h as _,i as R,v as L,j as U,k as w,F as S,l as D,m as I,n as A,p as F,q as H,c as C,s as M,x as N,H as $,y as W,z as K}from"./vendor-Cyi8N_cm.js";class b{constructor(){h(this,"__preUrl","https://www.naodao.com/api");h(this,"__token","");h(this,"__id","");h(this,"__location","");h(this,"__itemId","");h(this,"__beginDate","");h(this,"getData",()=>"");this.init()}static getQueryString(e){for(var n=window.location.search.substring(1),t=n.split("&"),i=0;i<t.length;i++){var a=t[i].split("=");if(a[0]==e)return a[1]}return""}init(){var e=this,n=window.localStorage.getItem("__insula_l__"),t=n?JSON.parse(n):{};e.__beginDate=t.user&&t.user.beginDate,e.__token=b.getQueryString("__token"),e.__id=b.getQueryString("__id"),e.__itemId=b.getQueryString("__itemId"),e.__location=window.location.href,fetch(e.__preUrl+"/user/canvasNode/insertRecord",{method:"POST",headers:{accept:"application/json, text/plain, */*","content-type":"application/json"},body:JSON.stringify({nodeId:e.__id,recordId:e.__token,itemId:e.__itemId,beginDate:e.__beginDate?e.__beginDate:""})}).then(i=>i.json())}async save(){let e;this.__token==="preview"||this.__location.includes("file://")?e=this.offlineSave(this.getData()):e=await this.onlineSave(this.getData()),e?this.parent_post_message(this.__token,this.__id,!0,200,"实验作答完成，感谢你的耐心等待，继续下一步？"):this.parent_post_message(this.__token,this.__id,!1,500,"实验作答失败，请刷新重新作答！")}offlineSave(e,n=this.__id){try{const t=new Blob([e],{type:"text/plain"});let i="";typeof window.webkitURL<"u"?i=window.webkitURL.createObjectURL(t):i=window.URL.createObjectURL(t);const a=document.createElement("a");return a.id="jspsych-download-as-text-link",a.style.display="none",a.download=`${n}.csv`,a.href=i,a.click(),!0}catch{return!1}}async onlineSave(e,n=this.__id,t=this.__token){return fetch(this.__preUrl+"/user/jsPsych/results",{method:"POST",headers:{accept:"application/json, text/plain, */*","content-type":"application/json"},body:JSON.stringify({experimentId:n,token:t,key:n,value:e,state:1})}).then(i=>i.json()).then(i=>i.code==200)}parent_post_message(e,n,t,i,a){window.parent.postMessage({recordId:e,nodeId:n,isCompleted:t,code:i,message:a})}}const f=(s,e)=>{const n=s.__vccOpts||s;for(const[t,i]of e)n[t]=i;return n},V={class:"display_word"},q={__name:"word",props:{word:{type:String,default:"词"}},setup(s){const e=s;return(n,t)=>(l(),d("div",V,O(e.word),1))}},J=f(q,[["__scopeId","data-v-4cbd6c11"]]),G={},Q={class:"cha_vue"};function Y(s,e){return l(),d("div",Q)}const T=f(G,[["render",Y],["__scopeId","data-v-d8e8e8b3"]]),X={class:"display_word"},Z={__name:"word2",props:{word:{type:String,default:"词"}},setup(s){const e=s;return(n,t)=>(l(),d("div",X,O(e.word),1))}},ee=f(Z,[["__scopeId","data-v-dc675960"]]),te={class:"layout"},ne={class:"top"},ie={class:"content"},ae=["onClick"],se={__name:"layout",props:{title:{type:String,default:"title"},words:{type:Array,default:[]}},emits:["wordClick","cancel","changeTitle"],setup(s,{emit:e}){const n=e,t=s,i=x(t.title),a=x(!1);return B(a,(v,c)=>{v||n("changeTitle",i.value)}),(v,c)=>(l(),d("div",te,[_("div",ne,[a.value?R((l(),d("input",{key:1,class:"title-input","onUpdate:modelValue":c[1]||(c[1]=u=>i.value=u),onBlur:c[2]||(c[2]=u=>a.value=!1),onKeyup:c[3]||(c[3]=U(u=>a.value=!1,["enter"])),autofocus:""},null,544)),[[L,i.value]]):(l(),d("div",{key:0,onDblclick:c[0]||(c[0]=u=>a.value=!0),class:"title"},O(t.title),33)),_("div",{class:"icon",onClick:c[4]||(c[4]=u=>{n("cancel",u)})},[w(T)])]),_("div",ie,[(l(!0),d(S,null,D(t.words,(u,p)=>(l(),d("div",{onClick:I(k=>n("wordClick",p),["stop"])},[w(ee,{word:u},null,8,["word"])],8,ae))),256))])]))}},oe=f(se,[["__scopeId","data-v-b115a76b"]]),re={class:"layout_add"},le={class:"content"},de={class:"icon"},ce={__name:"layoutAdd",setup(s){return(e,n)=>(l(),d("div",re,[_("div",le,[_("div",de,[w(T)])])]))}},ge=f(ce,[["__scopeId","data-v-e6e7613d"]]),ue={class:"drag_word"},pe={class:"drag_content"},he=H('<div style="width:100%;text-align:left;" data-v-88a104e6><div style="width:75%;margin:auto;text-indent:2em;line-height:1.5em;font-size:16px;" data-v-88a104e6><div data-v-88a104e6>Please (1) <strong data-v-88a104e6>categorize</strong> the behavior entries by dragging them into the box and (2) <strong data-v-88a104e6>naming the category</strong> of behavior that the box represents.</div><p data-v-88a104e6></p><div data-v-88a104e6>A. Name the category with the words that <strong data-v-88a104e6>best describe the core characteristics</strong> of the behavior</div><div data-v-88a104e6>B. It is recommended that the items be divided into <strong data-v-88a104e6>3-15 categories</strong> and <strong data-v-88a104e6>No less than 6 behaviors per category</strong>.</div><div data-v-88a104e6>C. Correctly categorize the non-behavioral objects(fruit) and beings(animal) that appear in the behavioral items, <strong data-v-88a104e6>otherwise no participant fee will be given</strong>.</div><p data-v-88a104e6></p><div data-v-88a104e6>Operation instructions:</div><div class="text_title" data-v-88a104e6>(1) How to add a new category?</div><div class="text_desc" data-v-88a104e6>To add a new category, drag the item onto the plus sign.</div><div class="text_title" data-v-88a104e6>(2) What if I don&#39;t want to be categorized that way?</div><div class="text_desc" data-v-88a104e6>To put the item back from a category, click on the item.</div><div class="text_title" data-v-88a104e6>(3) Why does the name of the first category appear when naming the second category?</div><div class="text_desc" data-v-88a104e6>please ignore the content and modify it directly to the text required for the current category. </div></div></div>',1),me={class:"drag_contain"},_e={__name:"dragWord",emits:["endExp"],setup(s,{emit:e}){const n=e,t=A({}),i=x(["Abandoning children","Abortion","Absenteeism from work","Abuse","Academic dishonesty and fraud","Air pollution","Arrogance","Arson","Assaulting a police officer","banana","Being opinionated","Betrayal and deviation from a moral standard","Binge eating","Bribery","Browsing porn","Bullying","Buying and selling firearms","Buying and selling personal information","Buying and selling wild animals","Carelessness","cat","Causing explosions","Causing internal conflict within a group or organization","Child marriage","Child molestation","Concealing illegal obtained goods or money","Copyright infringement","Corporal punishment of students","Counterfeiting currency","Creating and profiting from a cult","Cultural discrimination","Cutting corners in construction projects","Cutting in line","Damaging cultural artifiacts","Damaging public facilities","Defamation","Defaulting on debts","Deforestation","Depriving someone of educational opportunities","Desecration of religious sites","Disobeying orders during wartime","Distributing obscene materials","Domestic violence","Doping in sports","Driving under the influence (DUI)","Driving without a license","Drug abuse","Electoral fraud","elephant","Embezzlement","Embezzlement of public funds","Emotional abuse","Employing child labor","Engaging in a mass or group fight","Engaging in espionage","Engaging in unrestrained group sexual activity (i.e., an orgy)","Evading bills","Exam cheating","Extortion","Extortion of confession by torture","Failing to help someone in life-threatening danger","Failure to support parents","False advertising","Fighting","Flattery","Forging identity documents","Forging invoices","Forging official seals","Fraud","Gambling","Getting a tattoo as a minor","Giving up halfway","grape","Grave robbing","Hacking","Harassment","Harboring fugitives","Having sexuality intercourse with animals (bestiality)","Hindering safe driving","Hit-and-run","Holding grudges","Human trafficking","Identity theft","Illegal assembly and demonstration","Illegal trade of artifacts","Illegally crossing national borders","Illegally holding someone against their will","Illegally obtaining trade secrets","Impersonating officials or military personnel","Impulsive spending","Incest","Inciting evil or immoral behavior","Inciting or assisting suicide","Inciting racial hate","Inflicting serious bodily harm without intent","Infringing on trade secrets","Insulting others","Intentionally misleading others","Intimidation","Jealousy and belittling","Kidnapping","Killing pets","Killing someone without intent (i.e. manslaughter)","Laziness","Leaking national secrets","Leaking user information","Lending money with a very high interest rate (i.e. usury)","lion","Littering","Lying to friends","Making false accusations","Making loud noises","Manipulating financial markets","Manufacturing and trafficking illegal recreational drugs","Marital infidelity","Mocking people with disabilities","Money laundering","Not returning borrowed items","Obstructing official duties","Occupying fire lanes","Offering bribes","Online bullying","Operating a gambling establishment","orange","Organizing a mafia","Organizing and leading pyramid schemes","Organizing exam cheating","Organizing prostitution","Organizing riots and prison breaks","Organizing the sale of human organs","Overcharging and scamming","Patent infringement","Perjury","pig","pineapple","Plagiarism","Police brutality","Polluting water sources","Premarital sex","Premeditated murder","Preparing last minute (i.e. cramming for an exam)","Producing and selling low-quality pharmaceutical drugs","Prostitution","Racist speech","Rape","Refusal to perform military service","Refusing to admit or correct mistakes","Robbery","Rudeness","Running a red light","Same-sex marriage","Self-harm","Selling cigarettes and alcohol to minors","Selling inferior goods as superior","Sexism","Sexual harassment","Shoplifting","Skipping school","Slacking off","Smoking in public places","Smuggling","Snobbery and pretentiousness","Soliciting prostitution","Speeding","Spitting on the ground and public urination","Spreading rumors","Spreading sexually transmitted infections (STIs)","Staying out all night","Stubbornness","Suppressing freedom of speech","Tardiness","Tax evasion","Terrorist activities","Theft","Throwing objects from heights","Torturing animals","Transportation hijacking","Trespassing in military restricted zones","Unauthorized use of another's account","Unfair competition","Unlawful entry into a dwelling","Using counterfeit money","Vanity","Voyeurism and secret filming","Wage theft","Wasting food","watermelon","Wiretapping","Workplace bullying","zebra"]),a=function(g){t[Object.keys(t)[g]].forEach(r=>{i.value.push(r)}),delete t[Object.keys(t)[g]]},v=function(g,o){const r=Object.keys(t)[g],m=t[r].splice(o,1);i.value.push(m[0]),t[r].length<1&&delete t[r]},c=function(g,o){const r=Object.keys(t);if(r.indexOf(o)>=0)return 0;t[o]=t[r[g]],delete t[r[g]]};let u=0,p="";const k=function(g,o=!1){p.length>0&&(i.value.indexOf(p)>=0&&i.value.splice(i.value.indexOf(p),1),o?t[`title${u++}`]=[p]:t[Object.keys(t)[g]].push(p))},E=g=>{p=g.target.innerText},j=g=>{p=""};return(g,o)=>(l(),d("div",ue,[_("div",pe,[(l(!0),d(S,null,D(Object.keys(t),(r,m)=>(l(),C(oe,{"data-index":m,onDrop:y=>k(m,!1),onDragover:o[0]||(o[0]=I(()=>{},["prevent"])),onCancel:y=>a(m),onWordClick:y=>v(m,y),onChangeTitle:y=>c(m,y),title:r,words:t[r]},null,8,["data-index","onDrop","onCancel","onWordClick","onChangeTitle","title","words"]))),256)),w(ge,{onDrop:o[1]||(o[1]=r=>k(0,!0)),onDragover:o[2]||(o[2]=I(()=>{},["prevent"]))}),he]),_("div",me,[i.value.length>0?(l(!0),d(S,{key:0},D(i.value,r=>(l(),C(J,{word:r,draggable:"true",onDragstart:E,onDragend:j},null,8,["word"]))),256)):(l(),d("div",{key:1,class:"button",onClick:o[3]||(o[3]=r=>{n("endExp",F(t))})},"结束"))])]))}},ve=f(_e,[["__scopeId","data-v-88a104e6"]]),fe={id:"exp"},we={__name:"default",setup(s){const e=new b,n=M({display_element:"exp",on_finish(){console.log(n.data.get().csv()),onCredamoEndTrialFinish(n.data.get().csv()),e.save()}});e.getData=()=>n.data.get().csv();const t=[{timeline:[{type:$,choices:"NO_KEYS",stimulus:()=>"请用本地浏览器打开"}],conditional_function:()=>{var i=navigator.userAgent.toLowerCase();return i.match(/micromessenger/i)=="micromessenger"}}];return t.push({type:$,choices:["NO_KEYS"],stimulus:"<div id='main'></div>",on_load(){const i=document.querySelector("#main"),a=new Date().getTime();W(K(ve,{onEndExp(v){n.data.write({ans:v}),n.finishTrial({rt:new Date().getTime()-a})}}),i)}}),N(()=>{n.run(t)}),(i,a)=>(l(),d("div",fe))}};export{we as default};
