var E=Object.defineProperty;var R=(s,e,n)=>e in s?E(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var h=(s,e,n)=>(R(s,typeof e!="symbol"?e+"":e,n),n);import{o as l,g as d,t as B,r as S,w as I,h as _,i as L,v as U,j as A,k as b,F as x,l as D,m as $,n as z,p as N,q as F,c as P,s as V,x as q,H as C,y as H,z as M}from"./vendor-Cyi8N_cm.js";class w{constructor(){h(this,"__preUrl","https://www.naodao.com/api");h(this,"__token","");h(this,"__id","");h(this,"__location","");h(this,"__itemId","");h(this,"__beginDate","");h(this,"getData",()=>"");this.init()}static getQueryString(e){for(var n=window.location.search.substring(1),t=n.split("&"),i=0;i<t.length;i++){var a=t[i].split("=");if(a[0]==e)return a[1]}return""}init(){var e=this,n=window.localStorage.getItem("__insula_l__"),t=n?JSON.parse(n):{};e.__beginDate=t.user&&t.user.beginDate,e.__token=w.getQueryString("__token"),e.__id=w.getQueryString("__id"),e.__itemId=w.getQueryString("__itemId"),e.__location=window.location.href,fetch(e.__preUrl+"/user/canvasNode/insertRecord",{method:"POST",headers:{accept:"application/json, text/plain, */*","content-type":"application/json"},body:JSON.stringify({nodeId:e.__id,recordId:e.__token,itemId:e.__itemId,beginDate:e.__beginDate?e.__beginDate:""})}).then(i=>i.json())}async save(){let e;this.__token==="preview"||this.__location.includes("file://")?e=this.offlineSave(this.getData()):e=await this.onlineSave(this.getData()),e?this.parent_post_message(this.__token,this.__id,!0,200,"实验作答完成，感谢你的耐心等待，继续下一步？"):this.parent_post_message(this.__token,this.__id,!1,500,"实验作答失败，请刷新重新作答！")}offlineSave(e,n=this.__id){try{const t=new Blob([e],{type:"text/plain"});let i="";typeof window.webkitURL<"u"?i=window.webkitURL.createObjectURL(t):i=window.URL.createObjectURL(t);const a=document.createElement("a");return a.id="jspsych-download-as-text-link",a.style.display="none",a.download=`${n}.csv`,a.href=i,a.click(),!0}catch{return!1}}async onlineSave(e,n=this.__id,t=this.__token){return fetch(this.__preUrl+"/user/jsPsych/results",{method:"POST",headers:{accept:"application/json, text/plain, */*","content-type":"application/json"},body:JSON.stringify({experimentId:n,token:t,key:n,value:e,state:1})}).then(i=>i.json()).then(i=>i.code==200)}parent_post_message(e,n,t,i,a){window.parent.postMessage({recordId:e,nodeId:n,isCompleted:t,code:i,message:a})}}const f=(s,e)=>{const n=s.__vccOpts||s;for(const[t,i]of e)n[t]=i;return n},K={class:"display_word"},W={__name:"word",props:{word:{type:String,default:"词"}},setup(s){const e=s;return(n,t)=>(l(),d("div",K,B(e.word),1))}},J=f(W,[["__scopeId","data-v-d11f9d54"]]),Q={},Y={class:"cha_vue"};function G(s,e){return l(),d("div",Y)}const j=f(Q,[["render",G],["__scopeId","data-v-d8e8e8b3"]]),X={class:"display_word"},Z={__name:"word2",props:{word:{type:String,default:"词"}},setup(s){const e=s;return(n,t)=>(l(),d("div",X,B(e.word),1))}},ee=f(Z,[["__scopeId","data-v-dc675960"]]),te={class:"layout"},ne={class:"top"},ie={class:"content"},ae=["onClick"],se={__name:"layout",props:{title:{type:String,default:"title"},words:{type:Array,default:[]}},emits:["wordClick","cancel","changeTitle"],setup(s,{emit:e}){const n=e,t=s,i=S(t.title),a=S(!1);return I(a,(y,c)=>{y||n("changeTitle",i.value)}),(y,c)=>(l(),d("div",te,[_("div",ne,[a.value?L((l(),d("input",{key:1,class:"title-input","onUpdate:modelValue":c[1]||(c[1]=u=>i.value=u),onBlur:c[2]||(c[2]=u=>a.value=!1),onKeyup:c[3]||(c[3]=A(u=>a.value=!1,["enter"])),autofocus:""},null,544)),[[U,i.value]]):(l(),d("div",{key:0,onDblclick:c[0]||(c[0]=u=>a.value=!0),class:"title"},B(t.title),33)),_("div",{class:"icon",onClick:c[4]||(c[4]=u=>{n("cancel",u)})},[b(j)])]),_("div",ie,[(l(!0),d(x,null,D(t.words,(u,p)=>(l(),d("div",{onClick:$(k=>n("wordClick",p),["stop"])},[b(ee,{word:u},null,8,["word"])],8,ae))),256))])]))}},oe=f(se,[["__scopeId","data-v-b115a76b"]]),re={class:"layout_add"},le={class:"content"},de={class:"icon"},ce={__name:"layoutAdd",setup(s){return(e,n)=>(l(),d("div",re,[_("div",le,[_("div",de,[b(j)])])]))}},ge=f(ce,[["__scopeId","data-v-e6e7613d"]]),ue={class:"drag_word"},pe={class:"drag_content"},he=F('<div style="width:100%;text-align:left;" data-v-038a1973><div style="width:75%;margin:auto;text-indent:2em;line-height:1.5em;font-size:16px;" data-v-038a1973><div data-v-038a1973>Please (1) <strong data-v-038a1973>categorize</strong> the behavior entries by dragging them into the box and (2) <strong data-v-038a1973>naming the category</strong> of behavior that the box represents.</div><p data-v-038a1973></p><div data-v-038a1973>A. Name the category with the words that <strong data-v-038a1973>best describe the core characteristics</strong> of the behavior</div><div data-v-038a1973>B. It is recommended that the items be divided into <strong data-v-038a1973>3-15 categories</strong> and <strong data-v-038a1973>No less than 6 behaviors per category</strong>.</div><div data-v-038a1973>C. Correctly categorize the non-behavioral objects(fruit) and beings(animal) that appear in the behavioral items, <strong data-v-038a1973>otherwise no participant fee will be given</strong>.</div><p data-v-038a1973></p><div data-v-038a1973>Operation instructions:</div><div class="text_title" data-v-038a1973>(1) How to add a new category?</div><div class="text_desc" data-v-038a1973>To add a new category, drag the item onto the plus sign.</div><div class="text_title" data-v-038a1973>(2) What if I don&#39;t want to be categorized that way?</div><div class="text_desc" data-v-038a1973>To put the item back from a category, click on the item.</div></div></div>',1),ve={class:"drag_contain"},_e={__name:"dragWord",emits:["endExp"],setup(s,{emit:e}){const n=e,t=z({}),i=S(["Actively encouraging justice","Actively listening to others' suggestions","Adhering to principles","Admitting to and correcting one's mistakes","Adopting orphans","Advocating for equal rights","Appreciating fine art and music","Approaching problems from multiple perspectives","banana","Being a team player","Being considerate and attentive","Being dedicated to one's job","Being eager to learn new things","Being enthusiastic about public welfare","Being financially responsible","Being grateful for others' help","Being honest towards friends","Being hopeful about life","Being humble and modest","Being impartial and just","Being independent","Being modest and eager to learn","Being punctual","Being truthful and factual","Being understanding and empathetic","Being willing to contribute","Bravely facing challenges","Bravely killing enemies","Bravely stopping thieves","Caring for sick friends","Caring for stray animals","cat","Celebrating others' successes","Cheering up a disheartened friend","Cherishing food","Communicating effectively","Competing fairly","Conducting business with integrity","Conserving water","Considering others' feelings","Dedicating oneself to work","Deeply valuing personal bonds and righteousness","Defending borders","Discerning right from wrong","Donating blood","Donating generously","Eagerly exploring the unknown","Eating healthy","elephant","Embracing diverse cultures","Empathizing with others","Engaging in community service","Enjoying the beauty of nature","Exercising regularly","Exploring the unknown","Expressing sincere gratitude","Facing difficulties with an optmistic mentality","Focusing energy on studying","Forgiving others' mistakes","Forgiving past grievances","Fulfilling one's duties","grape","Greeting others politely","Having a good sense of humor","Helping others willingly","Helping strangers with directions","Helping the elderly cross the street","Imparting scientific knowledge","Innovating in science and technology","Keeping promises","Leading teams effectively","Learning from history","Learning new things","lion","Listening attentively","Listening attentively in class","Living frugally","Looking after elderly parents","Loving one's country","Maintaining integrity as a politician","Maintaining quiet in libraries","Making an offering (in money) at a church or temple","Obeying rules and regulations","Offering condolences to the bereaved family","Offering seats to the elderly","Opposing discrimination","orange","Participating in emergency rescue","Persevering through challenges","pig","pineapple","Planning ahead","Practicing good online etiquette","Practicing self-discipline","Praising others' strengths","Praying at a church or temple","Praying at a church or temple","Praying for family's health","Praying to God","Preserving cultural heritage","Prioritizing students' mental health","Promoting traditional culture","Protecting the natural environment","Protecting the rights of vulnerable groups","Protecting wildlife","Providing charitable medical care","Providing disaster relief","Providing medical aid","Providing wise advice","Reading religious scripts","Reading widely","Recycling goods","Reflecting on oneself","Resolving conflicts peacefully","Respecting elders","Respecting intellectual property","Respecting others' opinions","Respecting others' privacy","Respecting teachers and elders","Returning lost property","Sacrificing oneself for others","Safeguarding national secrets","Serving one's country with supreme loyalty","Sharing food","Sharing joys and sorrows","Showing gratitude","Showing love within a marriage","Speaking frankly","Spending time with family","Sponsoring children's education","Standing up for what is right bravely","Staying organized","Staying true to one's beliefs no matter what","Stepping up to help","Stopping campus bullying","Striving to achieve goals","Studying diligently","Supporting special education","Tailoring teaching to each student's strengths","Taking care of public property","Taking responsibility","Taking the initiative to clean","Treating everyone equally","Treating people with disabilities kindly","Upholding academic integrity","Upholding justice","Upholding the law impartially","Using eco-friendly packaging","Using renewable energy","Valuing collective interests","Valuing educating the youth","Valuing science","Volunteering","watermelon","Yielding to pedestrians while driving","zebra"]),a=function(g){t[Object.keys(t)[g]].forEach(r=>{i.value.push(r)}),delete t[Object.keys(t)[g]]},y=function(g,o){const r=Object.keys(t)[g],v=t[r].splice(o,1);i.value.push(v[0]),t[r].length<1&&delete t[r]},c=function(g,o){const r=Object.keys(t);if(r.indexOf(o)>=0)return 0;t[o]=t[r[g]],delete t[r[g]]};let u=0,p="";const k=function(g,o=!1){p.length>0&&(i.value.indexOf(p)>=0&&i.value.splice(i.value.indexOf(p),1),o?t[`title${u++}`]=[p]:t[Object.keys(t)[g]].push(p))},O=g=>{p=g.target.innerText},T=g=>{p=""};return(g,o)=>(l(),d("div",ue,[_("div",pe,[(l(!0),d(x,null,D(Object.keys(t),(r,v)=>(l(),P(oe,{"data-index":v,onDrop:m=>k(v,!1),onDragover:o[0]||(o[0]=$(()=>{},["prevent"])),onCancel:m=>a(v),onWordClick:m=>y(v,m),onChangeTitle:m=>c(v,m),title:r,words:t[r]},null,8,["data-index","onDrop","onCancel","onWordClick","onChangeTitle","title","words"]))),256)),b(ge,{onDrop:o[1]||(o[1]=r=>k(0,!0)),onDragover:o[2]||(o[2]=$(()=>{},["prevent"]))}),he]),_("div",ve,[i.value.length>0?(l(!0),d(x,{key:0},D(i.value,r=>(l(),P(J,{word:r,draggable:"true",onDragstart:O,onDragend:T},null,8,["word"]))),256)):(l(),d("div",{key:1,class:"button",onClick:o[3]||(o[3]=r=>{n("endExp",N(t))})},"结束"))])]))}},ye=f(_e,[["__scopeId","data-v-038a1973"]]),fe={id:"exp"},be={__name:"default",setup(s){const e=new w,n=V({display_element:"exp",on_finish(){console.log(n.data.get().csv()),onCredamoEndTrialFinish(n.data.get().csv()),e.save()}});e.getData=()=>n.data.get().csv();const t=[{timeline:[{type:C,choices:"NO_KEYS",stimulus:()=>"请用本地浏览器打开"}],conditional_function:()=>{var i=navigator.userAgent.toLowerCase();return i.match(/micromessenger/i)=="micromessenger"}}];return t.push({type:C,choices:["NO_KEYS"],stimulus:"<div id='main'></div>",on_load(){const i=document.querySelector("#main"),a=new Date().getTime();H(M(ye,{onEndExp(y){n.data.write({ans:y}),n.finishTrial({rt:new Date().getTime()-a})}}),i)}}),q(()=>{n.run(t)}),(i,a)=>(l(),d("div",fe))}};export{be as default};
